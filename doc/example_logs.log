time=2023-10-23T12:09:23.928+02:00 level=INFO msg=Running... logger=backend service=backend config="&{ListenAddr:127.0.0.1:45237 Instance:backend-1 Command:opentracing-example backend --listenaddr 127.0.0.1:45237 --instance backend-1 --jaegerURL http://localhost:14268/api/traces PONG_1 JaegerURL:http://localhost:14268/api/traces Response:Hello}"

time=2023-10-23T12:09:23.928+02:00 level=INFO msg="Backend start" logger=backend service=backend instance=backend-1 command="opentracing-example backend --listenaddr 127.0.0.1:45237 --instance backend-1 --jaegerURL http://localhost:14268/api/traces PONG_1" args=[PONG_1] config="{ListenAddr:127.0.0.1:45237 Instance:backend-1 Command:opentracing-example backend --listenaddr 127.0.0.1:45237 --instance backend-1 --jaegerURL http://localhost:14268/api/traces PONG_1 JaegerURL:http://localhost:14268/api/traces Response:PONG_1}"

time=2023-10-23T12:09:23.929+02:00 level=INFO msg="TestServer start" logger=backend service=backend instance=backend-1

time=2023-10-23T12:09:23.929+02:00 level=INFO msg="TestServer started" logger=backend service=backend instance=backend-1

time=2023-10-23T12:09:23.929+02:00 level=INFO msg=Running... logger=backend service=backend config="&{ListenAddr:127.0.0.1:42307 Instance:backend-2 Command:opentracing-example backend --listenaddr 127.0.0.1:42307 --instance backend-2 --jaegerURL http://localhost:14268/api/traces PONG_2 JaegerURL:http://localhost:14268/api/traces Response:Hello}"

time=2023-10-23T12:09:23.929+02:00 level=INFO msg="Backend start" logger=backend service=backend instance=backend-2 command="opentracing-example backend --listenaddr 127.0.0.1:42307 --instance backend-2 --jaegerURL http://localhost:14268/api/traces PONG_2" args=[PONG_2] config="{ListenAddr:127.0.0.1:42307 Instance:backend-2 Command:opentracing-example backend --listenaddr 127.0.0.1:42307 --instance backend-2 --jaegerURL http://localhost:14268/api/traces PONG_2 JaegerURL:http://localhost:14268/api/traces Response:PONG_2}"

time=2023-10-23T12:09:23.929+02:00 level=INFO msg="TestServer start" logger=backend service=backend instance=backend-2

time=2023-10-23T12:09:23.931+02:00 level=INFO msg="TestServer started" logger=backend service=backend instance=backend-2

time=2023-10-23T12:09:23.931+02:00 level=INFO msg=Running... logger=frontend service=frontend config="&{ListenAddr:127.0.0.1:40717 Instance:frontend Command:opentracing-example frontend --listenaddr 127.0.0.1:40717 --instance frontend --jaegerURL http://localhost:14268/api/traces JaegerURL:http://localhost:14268/api/traces MaxReq:1}"

time=2023-10-23T12:09:23.932+02:00 level=INFO msg="Frontend start" logger=frontend service=frontend instance=frontend command="opentracing-example frontend --listenaddr 127.0.0.1:40717 --instance frontend --jaegerURL http://localhost:14268/api/traces" args=[] config="{ListenAddr:127.0.0.1:40717 Instance:frontend Command:opentracing-example frontend --listenaddr 127.0.0.1:40717 --instance frontend --jaegerURL http://localhost:14268/api/traces JaegerURL:http://localhost:14268/api/traces MaxReq:1}"

time=2023-10-23T12:09:23.933+02:00 level=INFO msg="TestServer start" logger=frontend service=frontend instance=frontend

time=2023-10-23T12:09:23.933+02:00 level=INFO msg="TestServer started" logger=frontend service=frontend instance=frontend

time=2023-10-23T12:09:23.934+02:00 level=INFO msg=Running... logger=client service=client config="&{Server:127.0.0.1:40717 Instance:client-1 Command:opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x=a http://127.0.0.1:42307/ping-no?y=b http://127.0.0.1:423070/ping?z=c JaegerURL:http://localhost:14268/api/traces}"

time=2023-10-23T12:09:23.935+02:00 level=INFO msg="Client start" logger=client service=client config="{Server:127.0.0.1:40717 Instance:client-1 Command:opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x=a http://127.0.0.1:42307/ping-no?y=b http://127.0.0.1:423070/ping?z=c JaegerURL:http://localhost:14268/api/traces}"

time=2023-10-23T12:09:23.938+02:00 level=INFO msg=SPAN_START logger=client service=client traceID=8e190b15e1baf020fb2951427632a31f spanID=16d2decef05b3833 spanKind=client

time=2023-10-23T12:09:23.938+02:00 level=INFO msg=OUT_REQ logger=client service=client traceID=8e190b15e1baf020fb2951427632a31f spanID=16d2decef05b3833 outMethod=GET outUrl=http://127.0.0.1:40717/proxy spanID=d5abfcfd7534307a

time=2023-10-23T12:09:23.940+02:00 level=DEBUG msg=SPAN_IN logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy span="{\"TraceID\":\"8e190b15e1baf020fb2951427632a31f\",\"SpanID\":\"d5abfcfd7534307a\",\"TraceFlags\":\"01\",\"TraceState\":\"client_command=opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x_a http://127.0.0.1:42307/ping-no?y_b http://127.0.0.1:423070/ping?z_c\",\"Remote\":true}" spanErr=<nil> bag="baggID=24732,baggCommand=opentracing-example_client_--server_127.0.0.1%3A40717_--instance_client-1_--jaegerURL_http%3A%2F%2Flocalhost%3A14268%2Fapi%2Ftraces_http%3A%2F%2F127.0.0.1%3A45237%2Fping%3Fx%3Da_http%3A%2F%2F127.0.0.1%3A42307%2Fping-no%3Fy%3Db_http%3A%2F%2F127.0.0.1%3A423070%2Fping%3Fz%3Dc" traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a

time=2023-10-23T12:09:23.940+02:00 level=DEBUG msg=SPAN_START logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanKind=server

time=2023-10-23T12:09:23.940+02:00 level=INFO msg=IN_HTTP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3

time=2023-10-23T12:09:23.941+02:00 level=INFO msg=GO_BEGIN logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=1a21d9e0798adf3e job_type=example job_name="GET http://127.0.0.1:423070/ping?z=c" job_id="GET http://127.0.0.1:423070/ping?z=c #2"

time=2023-10-23T12:09:23.941+02:00 level=INFO msg=OUT_REQ logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=1a21d9e0798adf3e job_type=example job_name="GET http://127.0.0.1:423070/ping?z=c" job_id="GET http://127.0.0.1:423070/ping?z=c #2" outMethod=GET outUrl="http://127.0.0.1:423070/ping?z=c" spanID=256d6b0964540a94

time=2023-10-23T12:09:23.941+02:00 level=INFO msg=OUT_RESP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=1a21d9e0798adf3e job_type=example job_name="GET http://127.0.0.1:423070/ping?z=c" job_id="GET http://127.0.0.1:423070/ping?z=c #2" outMethod=GET outUrl="http://127.0.0.1:423070/ping?z=c" spanID=256d6b0964540a94 outStatusCode=0 outReqContentLength=0 outRespContentLength=0 outDuration=0.000 error="dial tcp: address 423070: invalid port"

time=2023-10-23T12:09:23.941+02:00 level=DEBUG msg=GO_END logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=1a21d9e0798adf3e job_type=example job_name="GET http://127.0.0.1:423070/ping?z=c" job_id="GET http://127.0.0.1:423070/ping?z=c #2" duration=0.000 error="Get \"http://127.0.0.1:423070/ping?z=c\": dial tcp: address 423070: invalid port\nunable to send request\ngithub.com/pgillich/opentracing-example/internal.(*Frontend).sendToBackend\n\t/root/work/github.com/pgillich/opentracing-example/internal/frontend.go:248\ngithub.com/pgillich/opentracing-example/internal.(*Frontend).Run.(*Frontend).proxyHandler.func6.1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/frontend.go:186\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.TryCatch.func1.1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:80\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.TryCatch.func1.1.tryCatch.func2\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:104\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.TryCatch.func1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:81\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.Metrics.func1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:174\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.Logger.func1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:134\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.Span.func1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:68\ngithub.com/pgillich/opentracing-example/internal/middleware/inner.SemAcquire.func1.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/middleware/inner/middlewares.go:43\ngithub.com/pgillich/opentracing-example/internal.(*Frontend).Run.(*Frontend).proxyHandler.func6.1\n\t/root/work/github.com/pgillich/opentracing-example/internal/frontend.go:187\nruntime.goexit\n\t/usr/local/go1.21.3/src/runtime/asm_amd64.s:1650"

time=2023-10-23T12:09:23.941+02:00 level=INFO msg=GO_BEGIN logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=23652919e579d86a job_type=example job_name="GET http://127.0.0.1:45237/ping?x=a" job_id="GET http://127.0.0.1:45237/ping?x=a #0"

time=2023-10-23T12:09:23.942+02:00 level=INFO msg=OUT_REQ logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=23652919e579d86a job_type=example job_name="GET http://127.0.0.1:45237/ping?x=a" job_id="GET http://127.0.0.1:45237/ping?x=a #0" outMethod=GET outUrl="http://127.0.0.1:45237/ping?x=a" spanID=8c97dfce7c214d7c

time=2023-10-23T12:09:23.943+02:00 level=DEBUG msg=SPAN_IN logger=backend service=backend instance=backend-1 inMethod=GET inUrl="/ping?x=a" span="{\"TraceID\":\"8e190b15e1baf020fb2951427632a31f\",\"SpanID\":\"8c97dfce7c214d7c\",\"TraceFlags\":\"01\",\"TraceState\":\"client_command=opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x_a http://127.0.0.1:42307/ping-no?y_b http://127.0.0.1:423070/ping?z_c\",\"Remote\":true}" spanErr=<nil> bag="baggID=24732,baggCommand=opentracing-example_client_--server_127.0.0.1%3A40717_--instance_client-1_--jaegerURL_http%3A%2F%2Flocalhost%3A14268%2Fapi%2Ftraces_http%3A%2F%2F127.0.0.1%3A45237%2Fping%3Fx%3Da_http%3A%2F%2F127.0.0.1%3A42307%2Fping-no%3Fy%3Db_http%3A%2F%2F127.0.0.1%3A423070%2Fping%3Fz%3Dc" traceID=8e190b15e1baf020fb2951427632a31f spanID=8c97dfce7c214d7c

time=2023-10-23T12:09:23.943+02:00 level=DEBUG msg=SPAN_START logger=backend service=backend instance=backend-1 inMethod=GET inUrl="/ping?x=a" traceID=8e190b15e1baf020fb2951427632a31f spanID=8c97dfce7c214d7c spanID=4ff8ccda4ba4ef96 spanKind=server

time=2023-10-23T12:09:23.943+02:00 level=INFO msg=IN_HTTP logger=backend service=backend instance=backend-1 inMethod=GET inUrl="/ping?x=a" traceID=8e190b15e1baf020fb2951427632a31f spanID=8c97dfce7c214d7c spanID=4ff8ccda4ba4ef96

time=2023-10-23T12:09:23.943+02:00 level=INFO msg=IN_HTTP_RESP logger=backend service=backend instance=backend-1 inMethod=GET inUrl="/ping?x=a" traceID=8e190b15e1baf020fb2951427632a31f spanID=8c97dfce7c214d7c spanID=4ff8ccda4ba4ef96 inPathPattern=/ping inStatusCode=200 inReqContentLength=0 inRespContentLength="" inDuration=0.000

time=2023-10-23T12:09:23.943+02:00 level=INFO msg=OUT_RESP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=23652919e579d86a job_type=example job_name="GET http://127.0.0.1:45237/ping?x=a" job_id="GET http://127.0.0.1:45237/ping?x=a #0" outMethod=GET outUrl="http://127.0.0.1:45237/ping?x=a" spanID=8c97dfce7c214d7c outStatusCode=200 outReqContentLength=0 outRespContentLength=21 outDuration=0.001

time=2023-10-23T12:09:23.944+02:00 level=DEBUG msg=GO_END logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=23652919e579d86a job_type=example job_name="GET http://127.0.0.1:45237/ping?x=a" job_id="GET http://127.0.0.1:45237/ping?x=a #0" duration=0.002

time=2023-10-23T12:09:23.944+02:00 level=INFO msg=GO_BEGIN logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=43bbb7eaa5001877 job_name="GET http://127.0.0.1:42307/ping-no?y=b" job_id="GET http://127.0.0.1:42307/ping-no?y=b #1" job_type=example

time=2023-10-23T12:09:23.944+02:00 level=INFO msg=OUT_REQ logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=43bbb7eaa5001877 job_name="GET http://127.0.0.1:42307/ping-no?y=b" job_id="GET http://127.0.0.1:42307/ping-no?y=b #1" job_type=example outMethod=GET outUrl="http://127.0.0.1:42307/ping-no?y=b" spanID=3617c48931c947ee

time=2023-10-23T12:09:23.944+02:00 level=DEBUG msg=SPAN_IN logger=backend service=backend instance=backend-2 inMethod=GET inUrl="/ping-no?y=b" span="{\"TraceID\":\"8e190b15e1baf020fb2951427632a31f\",\"SpanID\":\"3617c48931c947ee\",\"TraceFlags\":\"01\",\"TraceState\":\"client_command=opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x_a http://127.0.0.1:42307/ping-no?y_b http://127.0.0.1:423070/ping?z_c\",\"Remote\":true}" spanErr=<nil> bag="baggID=24732,baggCommand=opentracing-example_client_--server_127.0.0.1%3A40717_--instance_client-1_--jaegerURL_http%3A%2F%2Flocalhost%3A14268%2Fapi%2Ftraces_http%3A%2F%2F127.0.0.1%3A45237%2Fping%3Fx%3Da_http%3A%2F%2F127.0.0.1%3A42307%2Fping-no%3Fy%3Db_http%3A%2F%2F127.0.0.1%3A423070%2Fping%3Fz%3Dc" traceID=8e190b15e1baf020fb2951427632a31f spanID=3617c48931c947ee

time=2023-10-23T12:09:23.944+02:00 level=DEBUG msg=SPAN_START logger=backend service=backend instance=backend-2 inMethod=GET inUrl="/ping-no?y=b" traceID=8e190b15e1baf020fb2951427632a31f spanID=3617c48931c947ee spanID=c895511c699355de spanKind=server

time=2023-10-23T12:09:23.944+02:00 level=INFO msg=IN_HTTP logger=backend service=backend instance=backend-2 inMethod=GET inUrl="/ping-no?y=b" traceID=8e190b15e1baf020fb2951427632a31f spanID=3617c48931c947ee spanID=c895511c699355de

time=2023-10-23T12:09:23.944+02:00 level=INFO msg=IN_HTTP_RESP logger=backend service=backend instance=backend-2 inMethod=GET inUrl="/ping-no?y=b" traceID=8e190b15e1baf020fb2951427632a31f spanID=3617c48931c947ee spanID=c895511c699355de inPathPattern=/ping-no inStatusCode=404 inReqContentLength=0 inRespContentLength="" inDuration=0.000

time=2023-10-23T12:09:23.945+02:00 level=INFO msg=OUT_RESP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=43bbb7eaa5001877 job_name="GET http://127.0.0.1:42307/ping-no?y=b" job_id="GET http://127.0.0.1:42307/ping-no?y=b #1" job_type=example outMethod=GET outUrl="http://127.0.0.1:42307/ping-no?y=b" spanID=3617c48931c947ee outStatusCode=404 outReqContentLength=0 outRespContentLength=19 outDuration=0.001

time=2023-10-23T12:09:23.945+02:00 level=DEBUG msg=GO_END logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 spanID=43bbb7eaa5001877 job_name="GET http://127.0.0.1:42307/ping-no?y=b" job_id="GET http://127.0.0.1:42307/ping-no?y=b #1" job_type=example duration=0.001

time=2023-10-23T12:09:23.945+02:00 level=INFO msg=IN_HTTP_RESP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy traceID=8e190b15e1baf020fb2951427632a31f spanID=d5abfcfd7534307a spanID=67f60e44e2f062e3 inPathPattern=/proxy inStatusCode=500 inReqContentLength=99 inRespContentLength="" inDuration=0.004

time=2023-10-23T12:09:23.945+02:00 level=INFO msg=OUT_RESP logger=client service=client traceID=8e190b15e1baf020fb2951427632a31f spanID=16d2decef05b3833 outMethod=GET outUrl=http://127.0.0.1:40717/proxy spanID=d5abfcfd7534307a outStatusCode=500 outReqContentLength=99 outRespContentLength=102 outDuration=0.007

time=2023-10-23T12:09:23.945+02:00 level=INFO msg="Client resp" logger=client service=client traceID=8e190b15e1baf020fb2951427632a31f spanID=16d2decef05b3833 body="unable to send request: Get \"http://127.0.0.1:423070/ping?z=c\": dial tcp: address 423070: invalid port"

time=2023-10-23T12:09:23.945+02:00 level=INFO msg=SPAN_END logger=client service=client traceID=8e190b15e1baf020fb2951427632a31f spanID=16d2decef05b3833 span="{\"TraceID\":\"8e190b15e1baf020fb2951427632a31f\",\"SpanID\":\"16d2decef05b3833\",\"TraceFlags\":\"01\",\"TraceState\":\"client_command=opentracing-example client --server 127.0.0.1:40717 --instance client-1 --jaegerURL http://localhost:14268/api/traces http://127.0.0.1:45237/ping?x_a http://127.0.0.1:42307/ping-no?y_b http://127.0.0.1:423070/ping?z_c\",\"Remote\":false}"

time=2023-10-23T12:09:28.933+02:00 level=ERROR msg="OTEL ERROR" logger=TestExampleTestSuite/TestMoreBackendFromClient error="Post \"http://localhost:14268/api/traces\": dial tcp 127.0.0.1:14268: connect: connection refused"

time=2023-10-23T12:09:35.538+02:00 level=DEBUG msg=SPAN_NEW logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy inMethod=GET inUrl=/metrics span="{\"TraceID\":\"00000000000000000000000000000000\",\"SpanID\":\"0000000000000000\",\"TraceFlags\":\"00\",\"TraceState\":\"client_command=GET /metrics\",\"Remote\":false}" spanErr=<nil> bag="baggID=24732,baggCommand=GET_%2Fmetrics"

time=2023-10-23T12:09:35.538+02:00 level=DEBUG msg=SPAN_START logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy inMethod=GET inUrl=/metrics traceID=21b0e1dc31fe060cf753b11d585ef09f spanID=d7a97b1b8f553b73 spanKind=server

time=2023-10-23T12:09:35.538+02:00 level=INFO msg=IN_HTTP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy inMethod=GET inUrl=/metrics traceID=21b0e1dc31fe060cf753b11d585ef09f spanID=d7a97b1b8f553b73

time=2023-10-23T12:09:35.539+02:00 level=INFO msg=IN_HTTP_RESP logger=frontend service=frontend instance=frontend inMethod=GET inUrl=/proxy inMethod=GET inUrl=/metrics traceID=21b0e1dc31fe060cf753b11d585ef09f spanID=d7a97b1b8f553b73 inPathPattern=/metrics inStatusCode=200 inReqContentLength=0 inRespContentLength="" inDuration=0.001
